/**
 * Simple HR Suite - PWA Frontend Styles
 *
 * This file contains all styles for the PWA-like employee profile interface.
 * Extracted from Shortcodes.php for better maintainability.
 */

/* PWA App Shell - Makes the profile feel like a native app */
.sfs-hr-pwa-app {
    --sfs-primary: #0f4c5c;
    --sfs-primary-light: #135e96;
    --sfs-surface: #ffffff;
    --sfs-background: #f8fafc;
    --sfs-border: #e5e7eb;
    --sfs-text: #111827;
    --sfs-text-muted: #6b7280;
    --sfs-success: #059669;
    --sfs-warning: #d97706;
    --sfs-danger: #dc2626;
    --sfs-safe-top: env(safe-area-inset-top, 0px);
    --sfs-safe-bottom: env(safe-area-inset-bottom, 0px);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: var(--sfs-background);
}

/* App Header - Full width sticky header */
.sfs-hr-app-header {
    position: sticky;
    top: 0;
    background: var(--sfs-surface) !important;
    border-bottom: 2px solid var(--sfs-border) !important;
    z-index: 1000;
    padding: 14px 16px;
    padding-top: calc(14px + var(--sfs-safe-top));
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    box-sizing: border-box;
    min-height: 56px;
}
/* Dark mode header */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-app-header {
    background: #1e293b !important;
    border-bottom-color: #334155 !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-app-header-title {
    color: #f1f5f9 !important;
}
@media (prefers-color-scheme: dark) {
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-app-header {
        background: #1e293b !important;
        border-bottom-color: #334155 !important;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-app-header-title {
        color: #f1f5f9 !important;
    }
}
.admin-bar .sfs-hr-app-header {
    top: 32px;
}
@media (max-width: 782px) {
    .admin-bar .sfs-hr-app-header {
        top: 46px;
    }
}
.sfs-hr-app-header-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--sfs-text);
    margin: 0;
}
.sfs-hr-app-header-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Dark mode toggle in header */
.sfs-hr-theme-toggle {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--sfs-background);
    border: 1px solid var(--sfs-border);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    padding: 0;
}
.sfs-hr-theme-toggle:hover {
    background: var(--sfs-border);
}
.sfs-hr-theme-toggle:active {
    transform: scale(0.95);
}
.sfs-hr-theme-toggle svg {
    width: 20px;
    height: 20px;
    stroke: var(--sfs-text);
    fill: none;
    stroke-width: 2;
}
.sfs-hr-theme-toggle .sfs-hr-icon-sun { display: none; }
.sfs-hr-theme-toggle .sfs-hr-icon-moon { display: block; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-theme-toggle .sfs-hr-icon-sun { display: block; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-theme-toggle .sfs-hr-icon-moon { display: none; }

/* Language toggle in header */
.sfs-hr-lang-toggle {
    position: relative;
}
.sfs-hr-lang-btn {
    height: 40px;
    padding: 0 12px;
    border-radius: 20px;
    background: var(--sfs-background);
    border: 1px solid var(--sfs-border);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    transition: all 0.2s ease;
    font-size: 13px;
    font-weight: 600;
    color: var(--sfs-text);
}
.sfs-hr-lang-btn:hover {
    background: var(--sfs-border);
}
.sfs-hr-lang-btn svg {
    width: 14px;
    height: 14px;
    stroke: var(--sfs-text);
    fill: none;
    stroke-width: 2;
}
.sfs-hr-lang-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    left: auto;
    margin-top: 8px;
    background: var(--sfs-surface);
    border: 1px solid var(--sfs-border);
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    overflow: hidden;
    display: none;
    z-index: 1000;
    min-width: 140px;
}
/* RTL: dropdown positioning - keep within viewport */
[dir="rtl"] .sfs-hr-lang-dropdown {
    right: auto;
    left: 0;
}
[dir="rtl"] .sfs-hr-lang-option {
    flex-direction: row-reverse;
}
.sfs-hr-lang-dropdown.active {
    display: block;
}
.sfs-hr-lang-option {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
    cursor: pointer;
    transition: background 0.15s;
    color: var(--sfs-text);
    font-size: 14px;
    border: none;
    background: none;
    width: 100%;
    text-align: left;
}
[dir="rtl"] .sfs-hr-lang-option {
    text-align: right;
}
/* RTL: sidebar on the right side */
[dir="rtl"] .sfs-hr-sidebar {
    border-right: none;
    border-left: 1px solid var(--sfs-border);
}
[dir="rtl"] .sfs-hr-more-menu {
    right: auto;
    left: 8px;
}
.sfs-hr-lang-option:hover {
    background: var(--sfs-background);
}
.sfs-hr-lang-option.active {
    background: var(--sfs-primary);
    color: #0f172a;
}
.sfs-hr-lang-option-code {
    font-weight: 600;
    min-width: 28px;
}


/* Offline indicator */
.sfs-hr-offline-banner {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    padding: 8px 16px;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: #fff;
    text-align: center;
    font-size: 13px;
    font-weight: 500;
    z-index: 999999;
    padding-top: calc(8px + var(--sfs-safe-top));
}
.sfs-hr-offline-banner.visible {
    display: block;
}

/* PWA Install Banner */
.sfs-hr-pwa-install-banner {
    display: none;
    position: fixed;
    bottom: 20px;
    left: 16px;
    right: 16px;
    max-width: 400px;
    margin: 0 auto;
    background: var(--sfs-surface);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.18);
    padding: 16px 18px;
    z-index: 999998;
    animation: sfs-slide-up 0.3s ease-out;
    margin-bottom: var(--sfs-safe-bottom);
}
.sfs-hr-pwa-install-banner.visible {
    display: block;
}
@keyframes sfs-slide-up {
    from { transform: translateY(100px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
.sfs-hr-pwa-install-content {
    display: flex;
    align-items: center;
    gap: 14px;
}
.sfs-hr-pwa-install-icon {
    width: 52px;
    height: 52px;
    background: linear-gradient(135deg, var(--sfs-primary) 0%, var(--sfs-primary-light) 100%);
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.sfs-hr-pwa-install-icon svg {
    width: 28px;
    height: 28px;
    stroke: #fff;
    fill: none;
}
.sfs-hr-pwa-install-text {
    flex: 1;
}
.sfs-hr-pwa-install-text strong {
    display: block;
    font-size: 15px;
    color: var(--sfs-text);
    margin-bottom: 2px;
}
.sfs-hr-pwa-install-text span {
    font-size: 13px;
    color: var(--sfs-text-muted);
    line-height: 1.4;
}
.sfs-hr-pwa-install-buttons {
    display: flex;
    gap: 10px;
    margin-top: 14px;
}
.sfs-hr-pwa-btn {
    flex: 1;
    padding: 12px 16px;
    border: none;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.15s ease;
}
.sfs-hr-pwa-btn--primary {
    background: linear-gradient(135deg, var(--sfs-primary) 0%, var(--sfs-primary-light) 100%);
    color: #fff;
}
.sfs-hr-pwa-btn--primary:hover {
    box-shadow: 0 4px 12px rgba(15, 76, 92, 0.3);
    transform: translateY(-1px);
}
.sfs-hr-pwa-btn--secondary {
    background: #f3f4f6;
    color: #374151;
}
.sfs-hr-pwa-btn--secondary:hover {
    background: #e5e7eb;
}

/* Mobile-optimized layout - ONLY when PWA app is present */
@media (max-width: 768px) {
    /* Background for body and GeneratePress wrapper elements - DARK MODE ONLY */
    body:has(.sfs-hr-pwa-app:not(.sfs-hr-light-mode)),
    body:has(.sfs-hr-pwa-app:not(.sfs-hr-light-mode)) #page,
    body:has(.sfs-hr-pwa-app:not(.sfs-hr-light-mode)) .site-content,
    body:has(.sfs-hr-pwa-app:not(.sfs-hr-light-mode)) .content-area,
    body:has(.sfs-hr-pwa-app:not(.sfs-hr-light-mode)) .site-main,
    body:has(.sfs-hr-pwa-app:not(.sfs-hr-light-mode)) article,
    body:has(.sfs-hr-pwa-app:not(.sfs-hr-light-mode)) .inside-article,
    body:has(.sfs-hr-pwa-app:not(.sfs-hr-light-mode)) .entry-content {
        background-color: #0f172a !important;
    }

    /* Light mode backgrounds */
    body:has(.sfs-hr-pwa-app.sfs-hr-light-mode),
    body:has(.sfs-hr-pwa-app.sfs-hr-light-mode) #page,
    body:has(.sfs-hr-pwa-app.sfs-hr-light-mode) .site-content,
    body:has(.sfs-hr-pwa-app.sfs-hr-light-mode) .content-area,
    body:has(.sfs-hr-pwa-app.sfs-hr-light-mode) .site-main,
    body:has(.sfs-hr-pwa-app.sfs-hr-light-mode) article,
    body:has(.sfs-hr-pwa-app.sfs-hr-light-mode) .inside-article,
    body:has(.sfs-hr-pwa-app.sfs-hr-light-mode) .entry-content {
        background-color: #f8fafc !important;
    }

    /* Remove GeneratePress container padding */
    body:has(.sfs-hr-pwa-app) .grid-container {
        max-width: 100% !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
    }
    body:has(.sfs-hr-pwa-app) #page,
    body:has(.sfs-hr-pwa-app) .site-content,
    body:has(.sfs-hr-pwa-app) .content-area,
    body:has(.sfs-hr-pwa-app) .site-main,
    body:has(.sfs-hr-pwa-app) article,
    body:has(.sfs-hr-pwa-app) .inside-article,
    body:has(.sfs-hr-pwa-app) .entry-content {
        padding: 0 !important;
        margin: 0 !important;
    }

    /* Full-width edge-to-edge layout on mobile - Dark mode */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) {
        margin-left: calc(-50vw + 50%);
        margin-right: calc(-50vw + 50%);
        width: 100vw;
        max-width: 100vw;
        overflow-x: hidden;
        min-height: 100vh;
        background: #0f172a !important;
    }

    /* Full-width edge-to-edge layout on mobile - Light mode */
    .sfs-hr-pwa-app.sfs-hr-light-mode {
        margin-left: calc(-50vw + 50%);
        margin-right: calc(-50vw + 50%);
        width: 100vw;
        max-width: 100vw;
        overflow-x: hidden;
        min-height: 100vh;
        background: #f8fafc !important;
    }

    /* App header - fixed at viewport top - Dark mode */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-app-header {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 9999 !important;
        background-color: #1e293b !important;
        border-bottom: 1px solid #334155 !important;
        padding: 14px 16px !important;
        margin: 0 !important;
        transition: top 0.2s ease;
    }

    /* App header - fixed at viewport top - Light mode */
    .sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-app-header {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 9999 !important;
        background-color: #ffffff !important;
        border-bottom: 1px solid #e2e8f0 !important;
        padding: 14px 16px !important;
        margin: 0 !important;
        transition: top 0.2s ease;
    }
    .sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-app-header-title {
        color: #1e293b !important;
    }

    /* When admin bar is present, position header below it */
    .admin-bar .sfs-hr-pwa-app .sfs-hr-app-header {
        top: 32px !important;
    }
    @media screen and (max-width: 782px) {
        .admin-bar .sfs-hr-pwa-app .sfs-hr-app-header {
            top: 46px !important;
        }
    }

    /* When scrolled, move header to absolute top and fill gap with header color */
    .admin-bar .sfs-hr-pwa-app.sfs-hr-scrolled .sfs-hr-app-header {
        top: 0 !important;
        padding-top: 46px !important;
    }
    @media screen and (min-width: 783px) {
        .admin-bar .sfs-hr-pwa-app.sfs-hr-scrolled .sfs-hr-app-header {
            padding-top: 46px !important;
        }
    }

    /* Add top padding to content - Dark mode */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-profile {
        padding: 70px 16px 80px;
        background: #0f172a !important;
        min-height: 100vh;
    }

    /* Add top padding to content - Light mode */
    .sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile {
        padding: 70px 16px 80px;
        background: #f8fafc !important;
        min-height: 100vh;
    }

    /* Extra padding when admin bar is present */
    .admin-bar .sfs-hr-pwa-app .sfs-hr-profile {
        padding-top: 102px;
    }
    @media screen and (max-width: 782px) {
        .admin-bar .sfs-hr-pwa-app .sfs-hr-profile {
            padding-top: 116px;
        }
    }

    /* Profile header card on mobile - unified card style */
    .sfs-hr-pwa-app .sfs-hr-profile-header {
        background: var(--sfs-surface);
        margin: 16px 0 12px;
        padding: 20px 16px;
        border: 1px solid var(--sfs-border);
        border-radius: 12px;
    }

    /* Profile photo - ensure circle */
    .sfs-hr-pwa-app .sfs-hr-profile-photo img,
    .sfs-hr-pwa-app .sfs-hr-emp-photo {
        width: 80px !important;
        height: 80px !important;
        border-radius: 50% !important;
        object-fit: cover !important;
    }

    /* Profile groups full width */
    .sfs-hr-pwa-app .sfs-hr-profile-grid {
        margin: 16px 0 0;
        gap: 0;
    }
    .sfs-hr-pwa-app .sfs-hr-profile-group {
        border-radius: 12px;
        margin-bottom: 12px;
        border: 1px solid var(--sfs-border);
    }
    /* Only remove bottom margin from the very last card in the entire grid */
    .sfs-hr-pwa-app .sfs-hr-profile-col:last-child .sfs-hr-profile-group:last-child {
        margin-bottom: 0;
    }

    /* Bottom tab navigation for mobile */
    .sfs-hr-pwa-app .sfs-hr-profile-tabs {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: var(--sfs-surface);
        border-top: 1px solid var(--sfs-border);
        border-bottom: none;
        margin: 0;
        padding: 6px 4px calc(6px + var(--sfs-safe-bottom));
        display: flex;
        justify-content: space-around;
        z-index: 1000;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
    }
    .sfs-hr-pwa-app .sfs-hr-profile-tabs::-webkit-scrollbar {
        display: none;
    }
    .sfs-hr-pwa-app .sfs-hr-tab {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 4px 8px;
        font-size: 10px;
        border-radius: 8px;
        background: transparent;
        border: none;
        min-width: 56px;
        text-align: center;
        white-space: nowrap;
        gap: 2px;
        color: #6b7280;
        text-decoration: none;
    }
    .sfs-hr-pwa-app .sfs-hr-tab-icon {
        display: block !important; /* Override desktop hidden */
        width: 20px;
        height: 20px;
        stroke-width: 1.5;
    }
    .sfs-hr-pwa-app .sfs-hr-tab-active {
        background: rgba(15, 76, 92, 0.1);
        color: var(--sfs-primary);
        border: none;
    }
    .sfs-hr-pwa-app .sfs-hr-tab-active .sfs-hr-tab-icon {
        stroke-width: 2;
    }

    /* ── "More" overflow menu (mobile bottom bar) ─────────────── */
    .sfs-hr-pwa-app .sfs-hr-more-menu {
        position: fixed;
        bottom: calc(60px + var(--sfs-safe-bottom));
        right: 8px;
        background: var(--sfs-surface);
        border: 1px solid var(--sfs-border);
        border-radius: 12px;
        box-shadow: 0 -4px 20px rgba(0,0,0,0.12);
        padding: 6px;
        z-index: 1001;
        min-width: 160px;
    }
    .sfs-hr-pwa-app .sfs-hr-more-menu-item {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px 14px;
        border-radius: 8px;
        color: var(--sfs-text);
        text-decoration: none;
        font-size: 13px;
    }
    .sfs-hr-pwa-app .sfs-hr-more-menu-item:hover {
        background: var(--sfs-background);
    }
    .sfs-hr-pwa-app .sfs-hr-more-menu-item--active {
        color: var(--sfs-primary);
        background: rgba(15, 76, 92, 0.08);
        font-weight: 600;
    }
    .sfs-hr-pwa-app .sfs-hr-more-menu-item .sfs-hr-tab-icon {
        width: 18px;
        height: 18px;
        stroke-width: 1.5;
        flex-shrink: 0;
    }

    /* ── Portal Layout (sidebar hidden on mobile) ─────────────── */
    .sfs-hr-portal-layout {
        display: block;
    }
    .sfs-hr-pwa-app .sfs-hr-sidebar {
        display: none; /* Hidden on mobile — bottom bar is used instead */
    }

    /* ── Desktop: Sidebar + Content Layout ────────────────────── */
    @media screen and (min-width: 768px) {
        .sfs-hr-portal-layout {
            display: flex;
            min-height: calc(100vh - 56px);
        }

        /* Show sidebar on desktop */
        .sfs-hr-pwa-app .sfs-hr-sidebar {
            display: flex;
            flex-direction: column;
            width: 220px;
            min-width: 220px;
            background: var(--sfs-surface);
            border-right: 1px solid var(--sfs-border);
            padding: 16px 8px;
            position: sticky;
            top: 56px; /* Below the header */
            height: calc(100vh - 56px);
            overflow-y: auto;
            z-index: 10;
            scrollbar-width: thin;
        }
        .admin-bar .sfs-hr-pwa-app .sfs-hr-sidebar {
            top: calc(56px + 32px);
            height: calc(100vh - 56px - 32px);
        }

        /* Sidebar section grouping */
        .sfs-hr-sidebar-section {
            margin-bottom: 4px;
        }
        .sfs-hr-sidebar-section + .sfs-hr-sidebar-section {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid var(--sfs-border);
        }
        .sfs-hr-sidebar-section-label {
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--sfs-text-muted);
            padding: 4px 12px 6px;
        }

        /* Sidebar items */
        .sfs-hr-sidebar-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 9px 12px;
            border-radius: 8px;
            color: var(--sfs-text);
            text-decoration: none;
            font-size: 13px;
            font-weight: 400;
            transition: background 0.15s ease, color 0.15s ease;
            cursor: pointer;
        }
        .sfs-hr-sidebar-item:hover {
            background: var(--sfs-background);
            color: var(--sfs-primary);
        }
        .sfs-hr-sidebar-item--active {
            background: rgba(15, 76, 92, 0.1);
            color: var(--sfs-primary);
            font-weight: 600;
        }
        .sfs-hr-sidebar-item--active:hover {
            background: rgba(15, 76, 92, 0.14);
        }
        .sfs-hr-sidebar-item .sfs-hr-tab-icon {
            width: 18px;
            height: 18px;
            stroke-width: 1.5;
            flex-shrink: 0;
        }
        .sfs-hr-sidebar-item--active .sfs-hr-tab-icon {
            stroke-width: 2;
        }
        .sfs-hr-sidebar-label {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Content area fills remaining space */
        .sfs-hr-portal-layout > .sfs-hr-profile {
            flex: 1;
            min-width: 0;
        }

        /* Hide bottom bar on desktop */
        .sfs-hr-pwa-app .sfs-hr-profile-tabs {
            display: none !important;
        }
        .sfs-hr-pwa-app .sfs-hr-more-menu {
            display: none !important;
        }

        /* Adjust content padding — no bottom bar needed on desktop */
        .sfs-hr-pwa-app .sfs-hr-profile {
            padding-bottom: 24px !important;
        }
    }

    /* Admin bar offset for mobile sidebar (782px is WP admin bar breakpoint) */
    @media screen and (min-width: 768px) and (max-width: 782px) {
        .admin-bar .sfs-hr-pwa-app .sfs-hr-sidebar {
            top: calc(56px + 46px);
            height: calc(100vh - 56px - 46px);
        }
    }

    /* Hide site header on mobile HR profile (but not our app header) */
    .sfs-hr-pwa-app ~ header,
    .sfs-hr-pwa-app ~ .site-header,
    .sfs-hr-pwa-app ~ #masthead,
    body:has(.sfs-hr-pwa-app) header:not(.sfs-hr-app-header),
    body:has(.sfs-hr-pwa-app) .site-header,
    body:has(.sfs-hr-pwa-app) #masthead {
        display: none !important;
    }
}

/* ── Overview Tab Typography Enhancements (§10.1) ──────────── */
.sfs-hr-pwa-app .sfs-hr-profile-group-title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--sfs-text-muted);
    padding: 14px 16px 8px;
}
.sfs-hr-pwa-app .sfs-hr-field-row {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    padding: 10px 16px;
    border-bottom: 1px solid var(--sfs-border);
    gap: 12px;
}
.sfs-hr-pwa-app .sfs-hr-field-row:last-child {
    border-bottom: none;
}
.sfs-hr-pwa-app .sfs-hr-field-label {
    font-size: 12px;
    color: var(--sfs-text-muted);
    flex-shrink: 0;
}
.sfs-hr-pwa-app .sfs-hr-field-value {
    font-size: 13px;
    font-weight: 500;
    color: var(--sfs-text);
    text-align: end;
    word-break: break-word;
}
.sfs-hr-pwa-app .sfs-hr-profile-name {
    font-size: 20px;
    font-weight: 700;
    color: var(--sfs-text);
    margin: 0 0 6px;
    line-height: 1.3;
}
.sfs-hr-pwa-app .sfs-hr-profile-header {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 20px 0;
}
.sfs-hr-pwa-app .sfs-hr-profile-header-main {
    flex: 1;
    min-width: 0;
}
.sfs-hr-pwa-app .sfs-hr-profile-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 6px;
}
.sfs-hr-pwa-app .sfs-hr-chip {
    display: inline-flex;
    align-items: center;
    padding: 3px 10px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 600;
}
.sfs-hr-pwa-app .sfs-hr-chip--code {
    background: var(--sfs-background);
    color: var(--sfs-text-muted);
}
.sfs-hr-pwa-app .sfs-hr-chip--status {
    background: #dbeafe;
    color: #1d4ed8;
}
.sfs-hr-pwa-app .sfs-hr-profile-meta-line {
    font-size: 13px;
    color: var(--sfs-text-muted);
}
.sfs-hr-pwa-app .sfs-hr-profile-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
    margin-top: 16px;
}
@media (max-width: 768px) {
    .sfs-hr-pwa-app .sfs-hr-profile-grid {
        grid-template-columns: 1fr;
    }
}
.sfs-hr-pwa-app .sfs-hr-profile-col {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* ── Assets Section Enhancement ────────────────────────────── */
.sfs-hr-pwa-app .sfs-hr-my-assets-frontend {
    background: var(--sfs-surface);
    border: 1px solid var(--sfs-border);
    border-radius: 12px;
    padding: 16px 18px;
    margin-top: 20px;
}
.sfs-hr-pwa-app .sfs-hr-my-assets-frontend h4 {
    font-size: 15px;
    font-weight: 700;
    color: var(--sfs-text);
    margin: 0 0 14px;
}
.sfs-hr-pwa-app .sfs-hr-assets-desktop {
    display: block;
}
.sfs-hr-pwa-app .sfs-hr-assets-mobile {
    display: none;
}
@media (max-width: 768px) {
    .sfs-hr-pwa-app .sfs-hr-assets-desktop { display: none; }
    .sfs-hr-pwa-app .sfs-hr-assets-mobile { display: block; }
}
.sfs-hr-pwa-app .sfs-hr-assets-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
}
.sfs-hr-pwa-app .sfs-hr-assets-table th {
    background: var(--sfs-background);
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    color: var(--sfs-text-muted);
    padding: 8px 12px;
    text-align: start;
    border-bottom: 1px solid var(--sfs-border);
}
.sfs-hr-pwa-app .sfs-hr-assets-table td {
    padding: 8px 12px;
    color: var(--sfs-text);
    border-bottom: 1px solid var(--sfs-border);
}
.sfs-hr-pwa-app .sfs-hr-assets-table tbody tr:last-child td {
    border-bottom: none;
}
.sfs-hr-pwa-app .sfs-hr-asset-card {
    background: var(--sfs-surface);
    border: 1px solid var(--sfs-border);
    border-radius: 10px;
    margin-bottom: 10px;
    overflow: hidden;
}
.sfs-hr-pwa-app .sfs-hr-asset-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 14px;
    cursor: pointer;
    list-style: none;
    font-size: 13px;
    font-weight: 600;
    color: var(--sfs-text);
}
.sfs-hr-pwa-app .sfs-hr-asset-summary::-webkit-details-marker { display: none; }
.sfs-hr-pwa-app .sfs-hr-asset-body {
    padding: 0 14px 14px;
    border-top: 1px solid var(--sfs-border);
}
.sfs-hr-pwa-app .sfs-hr-asset-fields {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    padding: 10px 0;
    font-size: 12px;
}
.sfs-hr-pwa-app .sfs-hr-asset-actions {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    padding-top: 8px;
}
.sfs-hr-pwa-app .sfs-hr-asset-btn {
    padding: 6px 14px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 600;
    border: none;
    cursor: pointer;
}
.sfs-hr-pwa-app .sfs-hr-asset-btn--approve {
    background: var(--sfs-success);
    color: #fff;
}
.sfs-hr-pwa-app .sfs-hr-asset-btn--reject {
    background: var(--sfs-danger);
    color: #fff;
}

/* Profile completion bar enhancement */
.sfs-hr-pwa-app .sfs-hr-profile-completion {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border: 1px solid #bae6fd;
    border-radius: 12px;
    padding: 14px 18px;
    margin-bottom: 16px;
}
.sfs-hr-pwa-app .sfs-hr-completion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}
.sfs-hr-pwa-app .sfs-hr-completion-title {
    font-size: 13px;
    font-weight: 600;
    color: #0369a1;
}
.sfs-hr-pwa-app .sfs-hr-completion-pct {
    font-size: 14px;
    font-weight: 700;
    color: #0369a1;
}
.sfs-hr-pwa-app .sfs-hr-completion-bar {
    height: 6px;
    background: #e0f2fe;
    border-radius: 3px;
    overflow: hidden;
}
.sfs-hr-pwa-app .sfs-hr-completion-fill {
    height: 100%;
    background: linear-gradient(90deg, #0284c7, #38bdf8);
    border-radius: 3px;
    transition: width 0.6s ease;
}
.sfs-hr-pwa-app .sfs-hr-completion-hint {
    font-size: 12px;
    color: #0284c7;
    margin-top: 8px;
}
/* Notification dot */
.sfs-hr-pwa-app .sfs-hr-notification-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--sfs-danger);
    display: inline-block;
}

/* Attendance button */
.sfs-hr-pwa-app .sfs-hr-att-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: var(--sfs-primary);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: opacity 0.15s;
}
.sfs-hr-pwa-app .sfs-hr-att-btn:hover {
    opacity: 0.9;
}
.sfs-hr-pwa-app .sfs-hr-profile-actions {
    margin-top: 10px;
}

/* Card styles for app feel */
.sfs-hr-pwa-app .sfs-hr-profile-group {
    background: var(--sfs-surface);
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    border: 1px solid var(--sfs-border);
}

/* Quick links styling */
.sfs-hr-quick-links .sfs-hr-profile-group-body {
    padding: 0;
}
.sfs-hr-quick-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    color: var(--sfs-text);
    text-decoration: none;
    transition: background 0.15s ease;
    border-radius: 8px;
}
.sfs-hr-quick-link:hover {
    background: var(--sfs-background);
}
.sfs-hr-quick-link svg {
    width: 20px;
    height: 20px;
    stroke: var(--sfs-primary);
    flex-shrink: 0;
}
.sfs-hr-quick-link span {
    flex: 1;
    font-weight: 500;
}
.sfs-hr-quick-link .sfs-hr-notification-dot {
    flex: 0 0 8px;
    width: 8px;
    height: 8px;
}
.sfs-hr-quick-link-arrow {
    stroke: var(--sfs-text-muted);
}

/* Smooth transitions */
.sfs-hr-pwa-app * {
    -webkit-tap-highlight-color: transparent;
}
.sfs-hr-pwa-app a,
.sfs-hr-pwa-app button {
    transition: all 0.15s ease;
}

/* Pull to refresh indicator (visual only) */
.sfs-hr-pwa-app::before {
    content: '';
    display: none;
}

/* Profile completion meter mobile */
@media (max-width: 768px) {
    .sfs-hr-pwa-app .sfs-hr-profile-completion {
        margin: 16px 0;
        border-radius: 8px;
    }
}

/* ========== DARK MODE SUPPORT ========== */
/* Dark mode can be triggered by:
   1. System preference (prefers-color-scheme: dark)
   2. Manual toggle (adds .sfs-hr-dark-mode class) */
@media (prefers-color-scheme: dark) {
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) {
        --sfs-primary: #38bdf8;
        --sfs-primary-light: #7dd3fc;
        --sfs-surface: #1e293b;
        --sfs-background: #0f172a;
        --sfs-border: #334155;
        --sfs-text: #f1f5f9;
        --sfs-text-muted: #94a3b8;
        --sfs-success: #34d399;
        --sfs-warning: #fbbf24;
        --sfs-danger: #f87171;
        color-scheme: dark;
    }

    .sfs-hr-pwa-app .sfs-hr-profile > h3 {
        color: var(--sfs-text);
    }

    .sfs-hr-pwa-app .sfs-hr-profile-name {
        color: var(--sfs-text);
    }

    .sfs-hr-pwa-app .sfs-hr-chip--code {
        background: #334155;
        color: #cbd5e1;
    }

    .sfs-hr-pwa-app .sfs-hr-chip--status {
        background: #1e3a5f;
        color: #7dd3fc;
    }

    .sfs-hr-pwa-app .sfs-hr-profile-meta-line {
        color: var(--sfs-text-muted);
    }

    .sfs-hr-pwa-app .sfs-hr-profile-group {
        background: var(--sfs-surface);
        border-color: var(--sfs-border);
    }

    /* Profile header card dark mode */
    .sfs-hr-pwa-app .sfs-hr-profile-header {
        background: var(--sfs-surface);
        border-color: var(--sfs-border);
    }

    .sfs-hr-pwa-app .sfs-hr-profile-group-title {
        color: var(--sfs-text-muted);
    }

    .sfs-hr-pwa-app .sfs-hr-field-row {
        border-bottom-color: #334155;
    }

    .sfs-hr-pwa-app .sfs-hr-field-label {
        color: var(--sfs-text-muted);
    }

    .sfs-hr-pwa-app .sfs-hr-field-value {
        color: var(--sfs-text);
    }

    .sfs-hr-pwa-app .sfs-hr-emp-photo--empty {
        background: #334155;
        color: var(--sfs-text-muted);
    }

    .sfs-hr-pwa-app .sfs-hr-att-btn {
        background: var(--sfs-primary);
        border-color: var(--sfs-primary);
        color: #0f172a !important;
    }

    .sfs-hr-pwa-app .sfs-hr-att-btn:hover {
        background: var(--sfs-primary-light);
        border-color: var(--sfs-primary-light);
    }

    .sfs-hr-pwa-app .sfs-hr-profile-tabs {
        background: var(--sfs-surface);
        border-top-color: var(--sfs-border);
    }

    .sfs-hr-pwa-app .sfs-hr-tab {
        color: var(--sfs-text-muted);
    }

    .sfs-hr-pwa-app .sfs-hr-tab-active {
        background: rgba(56, 189, 248, 0.15);
        color: var(--sfs-primary);
    }

    /* Sidebar & more menu in system dark mode */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-sidebar { background: var(--sfs-surface); border-right-color: var(--sfs-border); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-sidebar-item { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-sidebar-item:hover { background: rgba(56, 189, 248, 0.08); color: var(--sfs-primary); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-sidebar-item--active { background: rgba(56, 189, 248, 0.15); color: var(--sfs-primary); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-sidebar-section + .sfs-hr-sidebar-section { border-top-color: var(--sfs-border); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-sidebar-section-label { color: var(--sfs-text-muted); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-more-menu { background: var(--sfs-surface); border-color: var(--sfs-border); box-shadow: 0 -4px 20px rgba(0,0,0,0.3); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-more-menu-item { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-more-menu-item--active { color: var(--sfs-primary); background: rgba(56, 189, 248, 0.12); }

    /* Profile completion in dark mode */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-profile-completion {
        background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%);
        border-color: #0369a1;
    }

    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-completion-title,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-completion-pct,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-completion-hint {
        color: #7dd3fc;
    }

    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-completion-bar {
        background: #0c4a6e;
    }

    /* Profile completion in light mode - reset to base styles */
    .sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile-completion {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border-color: #bae6fd;
    }
    .sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-completion-title,
    .sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-completion-pct {
        color: #0369a1;
    }
    .sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-completion-hint {
        color: #0284c7;
    }
    .sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-completion-bar {
        background: #e0f2fe;
    }

    /* Form inputs in dark mode */
    .sfs-hr-pwa-app input,
    .sfs-hr-pwa-app select,
    .sfs-hr-pwa-app textarea {
        background: var(--sfs-surface);
        border-color: var(--sfs-border);
        color: var(--sfs-text);
    }

    .sfs-hr-pwa-app input::placeholder,
    .sfs-hr-pwa-app textarea::placeholder {
        color: var(--sfs-text-muted);
    }

    /* Tables in dark mode */
    .sfs-hr-pwa-app .sfs-hr-table th,
    .sfs-hr-pwa-app .sfs-hr-table td {
        border-bottom-color: var(--sfs-border);
        color: var(--sfs-text);
    }

    .sfs-hr-pwa-app .sfs-hr-table th {
        color: var(--sfs-text-muted);
    }

    /* Alerts in dark mode */
    .sfs-hr-pwa-app .sfs-hr-alert {
        background: #422006;
        border-color: #a16207;
        color: #fef3c7;
    }

    /* Cards/boxes in dark mode */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-my-profile-leave,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-my-assets-frontend,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-card {
        background: var(--sfs-surface);
        border-color: var(--sfs-border);
    }

    /* Leave dashboard and history cards */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-my-profile-leave h4,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-my-assets-frontend h4 { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-summary-title { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-field-label { color: var(--sfs-text-muted); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-field-value { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-body { border-top-color: var(--sfs-border); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-card { border-top-color: var(--sfs-border); }

    /* Form labels */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) label { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-self-form label { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-self-form small { color: var(--sfs-text-muted); }

    /* Date input webkit fixes */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) input[type="date"]::-webkit-calendar-picker-indicator {
        filter: invert(1);
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) input[type="date"],
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) input[type="text"],
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) input[type="number"] {
        color-scheme: dark;
    }

    /* Stat cards in leave dashboard */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-stat-card,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-leave-stat {
        background: var(--sfs-background);
        border-color: var(--sfs-border);
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-stat-card h5,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-stat-label { color: var(--sfs-text-muted); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-stat-value { color: var(--sfs-text); }

    /* Attendance widget */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-attendance-today,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-attendance-stats { background: var(--sfs-surface); border-color: var(--sfs-border); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-attendance-today h4,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-attendance-stats h4 { color: var(--sfs-text); }

    /* My Attendance section (frontend overview) */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-my-attendance-frontend {
        background: var(--sfs-surface) !important;
        border-color: var(--sfs-border) !important;
        color: var(--sfs-text);
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-my-attendance-frontend h4,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-my-attendance-frontend strong { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-my-attendance-frontend p { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-grid,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-card {
        background: var(--sfs-surface);
        border-color: var(--sfs-border);
        color: var(--sfs-text);
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-card h4,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-card h5,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-card strong { color: var(--sfs-text); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-card p { color: var(--sfs-text-muted); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-table th { color: var(--sfs-text-muted); background: var(--sfs-background); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-table td { color: var(--sfs-text); border-color: var(--sfs-border); }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-table { border-color: var(--sfs-border); }

    /* Generic white cards/boxes */
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) div[style*="background:#fff"],
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) div[style*="background: #fff"],
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) div[style*="background:white"],
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) div[style*="background: white"],
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) div[style*="background:#ffffff"],
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) div[style*="background: #ffffff"] {
        background: var(--sfs-surface) !important;
        color: var(--sfs-text) !important;
    }
}

/* Manual dark mode toggle - when user explicitly enables dark mode */
.sfs-hr-pwa-app.sfs-hr-dark-mode {
    --sfs-primary: #38bdf8;
    --sfs-primary-light: #7dd3fc;
    --sfs-surface: #1e293b;
    --sfs-background: #0f172a;
    --sfs-border: #334155;
    --sfs-text: #f1f5f9;
    --sfs-text-muted: #94a3b8;
    --sfs-success: #34d399;
    --sfs-warning: #fbbf24;
    --sfs-danger: #f87171;
    color-scheme: dark;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile > h3 { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile-name { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-chip--code { background: #334155; color: #cbd5e1; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-chip--status { background: #1e3a5f; color: #7dd3fc; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile-meta-line { color: var(--sfs-text-muted); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile-group { background: var(--sfs-surface); border-color: var(--sfs-border); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile-header { background: var(--sfs-surface); border-color: var(--sfs-border); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile-group-title { color: var(--sfs-text-muted); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-field-row { border-bottom-color: #334155; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-field-label { color: var(--sfs-text-muted); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-field-value { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-emp-photo--empty { background: #334155; color: var(--sfs-text-muted); }
/* Attendance button colors based on action */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-btn,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-att-btn { background: var(--sfs-primary); border-color: var(--sfs-primary); color: #0f172a !important; }
.sfs-hr-pwa-app .sfs-hr-att-btn[data-action="in"] { background: #16a34a !important; border-color: #16a34a !important; color: #fff !important; }
.sfs-hr-pwa-app .sfs-hr-att-btn[data-action="out"] { background: #dc2626 !important; border-color: #dc2626 !important; color: #fff !important; }
.sfs-hr-pwa-app .sfs-hr-att-btn[data-action="break_start"] { background: #d97706 !important; border-color: #d97706 !important; color: #fff !important; }
.sfs-hr-pwa-app .sfs-hr-att-btn[data-action="break_end"] { background: #2563eb !important; border-color: #2563eb !important; color: #fff !important; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile-tabs { background: var(--sfs-surface); border-top-color: var(--sfs-border); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-tab { color: var(--sfs-text-muted); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-tab-active { background: rgba(56, 189, 248, 0.15); color: var(--sfs-primary); }
/* Sidebar dark mode */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-sidebar { background: var(--sfs-surface); border-right-color: var(--sfs-border); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-sidebar-item { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-sidebar-item:hover { background: rgba(56, 189, 248, 0.08); color: var(--sfs-primary); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-sidebar-item--active { background: rgba(56, 189, 248, 0.15); color: var(--sfs-primary); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-sidebar-section + .sfs-hr-sidebar-section { border-top-color: var(--sfs-border); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-sidebar-section-label { color: var(--sfs-text-muted); }
/* More menu dark mode */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-more-menu { background: var(--sfs-surface); border-color: var(--sfs-border); box-shadow: 0 -4px 20px rgba(0,0,0,0.3); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-more-menu-item { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-more-menu-item:hover { background: var(--sfs-background); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-more-menu-item--active { color: var(--sfs-primary); background: rgba(56, 189, 248, 0.12); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile-completion { background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%); border-color: #0369a1; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-completion-title,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-completion-pct,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-completion-hint { color: #7dd3fc; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-completion-bar { background: #0c4a6e; }

/* Manual light mode toggle - forces light colors even when system prefers dark */
.sfs-hr-pwa-app.sfs-hr-light-mode {
    --sfs-primary: #0284c7;
    --sfs-primary-light: #135e96;
    --sfs-surface: #ffffff;
    --sfs-background: #f8fafc;
    --sfs-border: #e5e7eb;
    --sfs-text: #111827;
    --sfs-text-muted: #6b7280;
    --sfs-success: #059669;
    --sfs-warning: #d97706;
    --sfs-danger: #dc2626;
    color-scheme: light;
    background: #f8fafc !important;
}
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-app-header {
    background: #ffffff !important;
    border-bottom-color: #e5e7eb !important;
}
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-app-header-title { color: #111827 !important; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile > h3 { color: #111827; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile-name { color: #111827; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-chip--code { background: #e5e7eb; color: #374151; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-chip--status { background: #dbeafe; color: #1d4ed8; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile-meta-line { color: #6b7280; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile-group { background: #ffffff; border-color: #e5e7eb; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile-header { background: #ffffff; border-color: #e5e7eb; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile-group-title { color: #6b7280; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-field-row { border-bottom-color: #e5e7eb; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-field-label { color: #6b7280; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-field-value { color: #111827; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-emp-photo--empty { background: #f3f4f6; color: #6b7280; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-att-btn { background: #0284c7; border-color: #0284c7; color: #ffffff !important; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-profile-tabs { background: #ffffff; border-top-color: #e5e7eb; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-tab { color: #6b7280; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-tab-active { background: rgba(2, 132, 199, 0.1); color: #0284c7; }
/* Sidebar light mode */
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-sidebar { background: #ffffff; border-right-color: #e5e7eb; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-sidebar-item { color: #374151; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-sidebar-item:hover { background: #f3f4f6; color: #0284c7; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-sidebar-item--active { background: rgba(2, 132, 199, 0.1); color: #0284c7; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-sidebar-section-label { color: #9ca3af; }
/* More menu light mode */
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-more-menu { background: #ffffff; border-color: #e5e7eb; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-more-menu-item { color: #374151; }
.sfs-hr-pwa-app.sfs-hr-light-mode .sfs-hr-more-menu-item--active { color: #0284c7; background: rgba(2, 132, 199, 0.08); }
.sfs-hr-pwa-app.sfs-hr-dark-mode input,
.sfs-hr-pwa-app.sfs-hr-dark-mode select,
.sfs-hr-pwa-app.sfs-hr-dark-mode textarea { background: var(--sfs-surface); border-color: var(--sfs-border); color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-table th,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-table td { border-bottom-color: var(--sfs-border); color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-table th { color: var(--sfs-text-muted); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-alert { background: #422006; border-color: #a16207; color: #fef3c7; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-my-profile-leave,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-my-assets-frontend,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-card { background: var(--sfs-surface); border-color: var(--sfs-border); }

/* Dark mode: Leave dashboard and history cards */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-my-profile-leave h4,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-my-assets-frontend h4 { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-summary-title { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-field-label { color: var(--sfs-text-muted); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-field-value { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-body { border-top-color: var(--sfs-border); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-card { border-top-color: var(--sfs-border); }

/* Dark mode: Form labels */
.sfs-hr-pwa-app.sfs-hr-dark-mode label { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-self-form label { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-self-form small { color: var(--sfs-text-muted); }

/* Dark mode: Date input webkit fixes */
.sfs-hr-pwa-app.sfs-hr-dark-mode input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode input[type="date"],
.sfs-hr-pwa-app.sfs-hr-dark-mode input[type="text"],
.sfs-hr-pwa-app.sfs-hr-dark-mode input[type="number"] {
    color-scheme: dark;
}

/* Dark mode: Stat cards in leave dashboard */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-stat-card,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-leave-stat {
    background: var(--sfs-background);
    border-color: var(--sfs-border);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-stat-card h5,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-stat-label { color: var(--sfs-text-muted); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-stat-value { color: var(--sfs-text); }

/* Dark mode: Attendance widget */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-attendance-today,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-attendance-stats { background: var(--sfs-surface); border-color: var(--sfs-border); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-attendance-today h4,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-attendance-stats h4 { color: var(--sfs-text); }

/* Dark mode: My Attendance section (frontend overview) */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-my-attendance-frontend {
    background: var(--sfs-surface) !important;
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-my-attendance-frontend h4,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-my-attendance-frontend strong { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-my-attendance-frontend p { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-grid,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-card {
    background: var(--sfs-surface);
    border-color: var(--sfs-border);
    color: var(--sfs-text);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-card h4,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-card h5,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-card strong { color: var(--sfs-text); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-card p { color: var(--sfs-text-muted); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-table th { color: var(--sfs-text-muted); background: var(--sfs-background); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-table td { color: var(--sfs-text); border-color: var(--sfs-border); }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-att-table { border-color: var(--sfs-border); }

/* Dark mode: Generic white cards/boxes should use surface color */
.sfs-hr-pwa-app.sfs-hr-dark-mode div[style*="background:#fff"],
.sfs-hr-pwa-app.sfs-hr-dark-mode div[style*="background: #fff"],
.sfs-hr-pwa-app.sfs-hr-dark-mode div[style*="background:white"],
.sfs-hr-pwa-app.sfs-hr-dark-mode div[style*="background: white"],
.sfs-hr-pwa-app.sfs-hr-dark-mode div[style*="background:#ffffff"],
.sfs-hr-pwa-app.sfs-hr-dark-mode div[style*="background: #ffffff"] {
    background: var(--sfs-surface) !important;
    color: var(--sfs-text) !important;
}

/* Dark mode: Resignation tab */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-tab,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-tab {
    color: var(--sfs-text);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-form,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-form {
    background: var(--sfs-surface) !important;
    border: 1px solid var(--sfs-border) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-form h4,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-form h4 {
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-form label,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-form label {
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-form input,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-form textarea,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-form select,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-form input,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-form textarea,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-form select {
    background: var(--sfs-background) !important;
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-form small,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-form small {
    color: var(--sfs-text-muted) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-form input[type="date"]::-webkit-calendar-picker-indicator,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-form input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
}

/* Dark mode: Resignation history */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-history,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-history {
    color: var(--sfs-text);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignation-history h4,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignation-history h4 {
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignations-table,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignations-table {
    background: var(--sfs-surface) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignations-table th,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignations-table th {
    background: var(--sfs-background) !important;
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text-muted) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignations-table td,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignations-table td {
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-resignations-table tr td[style*="background:#f9f9f9"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-resignations-table tr td[style*="background:#f9f9f9"] {
    background: var(--sfs-background) !important;
}

/* Dark mode: Asset status pills - improved contrast */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-asset-status-pill,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-asset-status-pill {
    background: var(--sfs-background) !important;
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-asset-summary-status .sfs-hr-asset-status-pill[style*="background:#fef9c3"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-asset-summary-status .sfs-hr-asset-status-pill[style*="background:#fef9c3"] {
    background: #422006 !important;
    border-color: #a16207 !important;
    color: #fbbf24 !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-asset-summary-status .sfs-hr-asset-status-pill[style*="background:#dcfce7"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-asset-summary-status .sfs-hr-asset-status-pill[style*="background:#dcfce7"] {
    background: #052e16 !important;
    border-color: #166534 !important;
    color: #34d399 !important;
}
/* Generic status pill overrides */
.sfs-hr-pwa-app.sfs-hr-dark-mode span[style*="background:#fef9c3"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) span[style*="background:#fef9c3"] {
    background: #422006 !important;
    border-color: #a16207 !important;
    color: #fbbf24 !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode span[style*="background:#dcfce7"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) span[style*="background:#dcfce7"] {
    background: #052e16 !important;
    border-color: #166534 !important;
    color: #34d399 !important;
}

/* Dark mode: Profile group spacing - add more space between cards */
@media (max-width: 768px) {
    .sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-profile-group,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-profile-group {
        margin-bottom: 16px !important;
    }
}

/* Date inputs - prevent overflow (all modes) - Safari fix */
.sfs-hr-pwa-app .sfs-hr-leave-self-form input[type="date"],
.sfs-hr-pwa-app .sfs-hr-lf-row input[type="date"] {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    height: 44px !important;
    min-height: 44px !important;
    max-height: 44px !important;
    padding: 10px 12px !important;
    font-size: 16px !important; /* Prevents iOS zoom on focus */
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    line-height: 1.2 !important;
}
/* Safari-specific date input fixes */
@supports (-webkit-touch-callout: none) {
    .sfs-hr-pwa-app .sfs-hr-leave-self-form input[type="date"],
    .sfs-hr-pwa-app .sfs-hr-lf-row input[type="date"] {
        height: 44px !important;
        padding: 0 12px !important;
        line-height: 44px !important;
    }
}

/* Dark mode: File input button - improved styling */
.sfs-hr-pwa-app.sfs-hr-dark-mode input[type="file"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) input[type="file"] {
    background: var(--sfs-surface) !important;
    border: 1px solid var(--sfs-border) !important;
    border-radius: 6px !important;
    padding: 8px !important;
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode input[type="file"]::file-selector-button,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) input[type="file"]::file-selector-button {
    background: var(--sfs-primary) !important;
    color: #0f172a !important;
    border: none !important;
    border-radius: 4px !important;
    padding: 6px 12px !important;
    margin-right: 10px !important;
    cursor: pointer !important;
    font-weight: 500 !important;
}

/* Dark mode: Submit buttons - improved styling */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-lf-submit,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-lf-submit,
.sfs-hr-pwa-app.sfs-hr-dark-mode .button-primary,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .button-primary,
.sfs-hr-pwa-app.sfs-hr-dark-mode button[type="submit"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) button[type="submit"] {
    background: var(--sfs-primary) !important;
    color: #0f172a !important;
    border: none !important;
    border-radius: 8px !important;
    padding: 12px 24px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
}
/* Preserve attendance widget button colors in dark mode */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-att-actions .button[data-type="in"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-att-actions .button[data-type="in"] {
    background: #e8f7ee !important;
    border-color: #b7dfc8 !important;
    color: #111 !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-att-actions .button[data-type="out"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-att-actions .button[data-type="out"] {
    background: #feecec !important;
    border-color: #fecaca !important;
    color: #111 !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-att-actions .button[data-type="break_start"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-att-actions .button[data-type="break_start"] {
    background: #fff4d6 !important;
    border-color: #fde68a !important;
    color: #111 !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-att-actions .button[data-type="break_end"],
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-att-actions .button[data-type="break_end"] {
    background: #eef4ff !important;
    border-color: #bfdbfe !important;
    color: #111 !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-lf-submit:hover,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-lf-submit:hover {
    background: #7dd3fc !important;
}

/* Dark mode: Loans tab - comprehensive styling */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loans-tab,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loans-tab {
    background: var(--sfs-surface) !important;
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loans-tab h4,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loans-tab h5,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loans-tab h4,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loans-tab h5 {
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loans-tab table,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loans-tab table {
    background: var(--sfs-surface) !important;
    border-color: var(--sfs-border) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loans-tab th,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loans-tab th {
    background: var(--sfs-background) !important;
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text-muted) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loans-tab td,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loans-tab td {
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text) !important;
}
/* Loan request form dark mode */
.sfs-hr-pwa-app.sfs-hr-dark-mode #sfs-loan-request-form-frontend,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) #sfs-loan-request-form-frontend {
    background: var(--sfs-background) !important;
    border-color: var(--sfs-border) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode #sfs-loan-request-form-frontend label,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) #sfs-loan-request-form-frontend label {
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode #sfs-loan-request-form-frontend input,
.sfs-hr-pwa-app.sfs-hr-dark-mode #sfs-loan-request-form-frontend textarea,
.sfs-hr-pwa-app.sfs-hr-dark-mode #sfs-loan-request-form-frontend select,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) #sfs-loan-request-form-frontend input,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) #sfs-loan-request-form-frontend textarea,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) #sfs-loan-request-form-frontend select {
    background: var(--sfs-surface) !important;
    border-color: var(--sfs-border) !important;
    color: var(--sfs-text) !important;
}
/* Loan card mobile */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loan-card,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loan-card {
    background: var(--sfs-surface) !important;
    border-color: var(--sfs-border) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loan-card-header,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loan-card-header {
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loan-field-label,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loan-field-label {
    color: var(--sfs-text-muted) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loan-field-value,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loan-field-value {
    color: var(--sfs-text) !important;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-hr-loan-summary-title,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-hr-loan-summary-title {
    color: var(--sfs-text) !important;
}

/* Dark mode toggle - moved to header, no floating button */

/* ============================================================
   DESIGN SYSTEM — Reusable Component Library (§10.1 / §10.2)
   ============================================================ */

/* ── Section Container ─────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-section {
    margin-bottom: 20px;
}
.sfs-hr-pwa-app .sfs-section-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--sfs-text);
    margin: 0 0 4px;
    line-height: 1.3;
}
.sfs-hr-pwa-app .sfs-section-subtitle {
    font-size: 13px;
    color: var(--sfs-text-muted);
    margin: 0 0 16px;
}

/* ── Card Component ────────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-card {
    background: var(--sfs-surface);
    border: 1px solid var(--sfs-border);
    border-radius: 12px;
    overflow: hidden;
}
.sfs-hr-pwa-app .sfs-card-header {
    padding: 16px 18px 0;
}
.sfs-hr-pwa-app .sfs-card-body {
    padding: 16px 18px;
}
.sfs-hr-pwa-app .sfs-card-footer {
    padding: 12px 18px;
    border-top: 1px solid var(--sfs-border);
}

/* ── KPI Cards Grid ────────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 12px;
    margin-bottom: 20px;
}
.sfs-hr-pwa-app .sfs-kpi-card {
    background: var(--sfs-surface);
    border: 1px solid var(--sfs-border);
    border-radius: 12px;
    padding: 14px 16px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}
.sfs-hr-pwa-app .sfs-kpi-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.sfs-hr-pwa-app .sfs-kpi-icon svg {
    width: 18px;
    height: 18px;
    stroke-width: 2;
    fill: none;
}
.sfs-hr-pwa-app .sfs-kpi-label {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--sfs-text-muted);
}
.sfs-hr-pwa-app .sfs-kpi-value {
    font-size: 22px;
    font-weight: 700;
    color: var(--sfs-text);
    line-height: 1.1;
}
.sfs-hr-pwa-app .sfs-kpi-sub {
    font-size: 12px;
    color: var(--sfs-text-muted);
    font-weight: 400;
}

/* ── Status Badges ─────────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 10px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 600;
    white-space: nowrap;
    line-height: 1.4;
}
.sfs-hr-pwa-app .sfs-badge--approved {
    background: #dcfce7;
    color: #166534;
}
.sfs-hr-pwa-app .sfs-badge--pending {
    background: #fef3c7;
    color: #92400e;
}
.sfs-hr-pwa-app .sfs-badge--rejected {
    background: #fee2e2;
    color: #991b1b;
}
.sfs-hr-pwa-app .sfs-badge--active {
    background: #dbeafe;
    color: #1e40af;
}
.sfs-hr-pwa-app .sfs-badge--completed {
    background: #f3f4f6;
    color: #374151;
}
.sfs-hr-pwa-app .sfs-badge--cancelled {
    background: #f3f4f6;
    color: #6b7280;
}
.sfs-hr-pwa-app .sfs-badge--info {
    background: #e0f2fe;
    color: #0c4a6e;
}
/* Dark mode badges */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--approved,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--approved { background: #052e16; color: #4ade80; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--pending,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--pending { background: #422006; color: #fbbf24; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--rejected,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--rejected { background: #450a0a; color: #fca5a5; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--active,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--active { background: #172554; color: #93c5fd; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--completed,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--cancelled,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--completed,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--cancelled { background: #1e293b; color: #94a3b8; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--info,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--info { background: #0c4a6e; color: #7dd3fc; }

/* ── Flash / Alert Messages ────────────────────────────────── */
.sfs-hr-pwa-app .sfs-alert {
    padding: 12px 16px;
    border-radius: 10px;
    font-size: 13px;
    line-height: 1.5;
    margin-bottom: 16px;
    display: flex;
    align-items: flex-start;
    gap: 10px;
}
.sfs-hr-pwa-app .sfs-alert svg {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    margin-top: 1px;
}
.sfs-hr-pwa-app .sfs-alert--success {
    background: #f0fdf4;
    border: 1px solid #86efac;
    color: #166534;
}
.sfs-hr-pwa-app .sfs-alert--error {
    background: #fef2f2;
    border: 1px solid #fca5a5;
    color: #991b1b;
}
.sfs-hr-pwa-app .sfs-alert--warning {
    background: #fffbeb;
    border: 1px solid #fcd34d;
    color: #92400e;
}
.sfs-hr-pwa-app .sfs-alert--info {
    background: #eff6ff;
    border: 1px solid #93c5fd;
    color: #1e40af;
}
/* Dark mode alerts */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-alert--success,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-alert--success { background: #052e16; border-color: #166534; color: #4ade80; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-alert--error,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-alert--error { background: #450a0a; border-color: #991b1b; color: #fca5a5; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-alert--warning,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-alert--warning { background: #422006; border-color: #a16207; color: #fbbf24; }
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-alert--info,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-alert--info { background: #172554; border-color: #1e40af; color: #93c5fd; }

/* ── Form Components ───────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-form-fields {
    display: flex;
    flex-direction: column;
    gap: 14px;
}
.sfs-hr-pwa-app .sfs-form-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}
.sfs-hr-pwa-app .sfs-form-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--sfs-text);
}
.sfs-hr-pwa-app .sfs-form-label .sfs-required {
    color: var(--sfs-danger);
    margin-left: 2px;
}
.sfs-hr-pwa-app .sfs-form-hint {
    font-size: 11px;
    color: var(--sfs-text-muted);
    margin-top: 2px;
}
.sfs-hr-pwa-app .sfs-form-row {
    display: flex;
    gap: 12px;
}
.sfs-hr-pwa-app .sfs-form-row > .sfs-form-group {
    flex: 1;
}
@media (max-width: 500px) {
    .sfs-hr-pwa-app .sfs-form-row {
        flex-direction: column;
    }
}
.sfs-hr-pwa-app .sfs-input,
.sfs-hr-pwa-app .sfs-select,
.sfs-hr-pwa-app .sfs-textarea {
    width: 100%;
    box-sizing: border-box;
    border: 1px solid var(--sfs-border);
    border-radius: 10px;
    padding: 10px 14px;
    font-size: 14px;
    color: var(--sfs-text);
    background: var(--sfs-surface);
    transition: border-color 0.15s ease, box-shadow 0.15s ease;
    min-height: 44px;
}
.sfs-hr-pwa-app .sfs-input:focus,
.sfs-hr-pwa-app .sfs-select:focus,
.sfs-hr-pwa-app .sfs-textarea:focus {
    outline: none;
    border-color: var(--sfs-primary);
    box-shadow: 0 0 0 3px rgba(15, 76, 92, 0.1);
}
.sfs-hr-pwa-app .sfs-textarea {
    min-height: 80px;
    resize: vertical;
}
.sfs-hr-pwa-app .sfs-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 20px;
    border: none;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    min-height: 44px;
    transition: all 0.15s ease;
    text-decoration: none;
}
.sfs-hr-pwa-app .sfs-btn--primary {
    background: var(--sfs-primary);
    color: #fff;
}
.sfs-hr-pwa-app .sfs-btn--primary:hover {
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.sfs-hr-pwa-app .sfs-btn--full {
    width: 100%;
}
.sfs-hr-pwa-app .sfs-btn svg {
    width: 16px;
    height: 16px;
    stroke-width: 2;
    fill: none;
}
/* Dark mode button */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-btn--primary,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-btn--primary { color: #0f172a; }

/* ── Empty States ──────────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-empty-state {
    text-align: center;
    padding: 40px 20px;
}
.sfs-hr-pwa-app .sfs-empty-state-icon {
    width: 64px;
    height: 64px;
    margin: 0 auto 16px;
    border-radius: 50%;
    background: var(--sfs-background);
    display: flex;
    align-items: center;
    justify-content: center;
}
.sfs-hr-pwa-app .sfs-empty-state-icon svg {
    width: 28px;
    height: 28px;
    stroke: var(--sfs-text-muted);
    fill: none;
    stroke-width: 1.5;
}
.sfs-hr-pwa-app .sfs-empty-state-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--sfs-text);
    margin: 0 0 6px;
}
.sfs-hr-pwa-app .sfs-empty-state-text {
    font-size: 13px;
    color: var(--sfs-text-muted);
    margin: 0;
    max-width: 300px;
    margin-left: auto;
    margin-right: auto;
}

/* ── History Cards (Mobile + Universal) ────────────────────── */
.sfs-hr-pwa-app .sfs-history-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.sfs-hr-pwa-app .sfs-history-card {
    background: var(--sfs-surface);
    border: 1px solid var(--sfs-border);
    border-radius: 12px;
    overflow: hidden;
}
.sfs-hr-pwa-app .sfs-history-card summary {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 14px;
    cursor: pointer;
    list-style: none;
    gap: 10px;
}
.sfs-hr-pwa-app .sfs-history-card summary::-webkit-details-marker {
    display: none;
}
.sfs-hr-pwa-app .sfs-history-card-title {
    font-size: 13px;
    font-weight: 600;
    color: var(--sfs-text);
    flex: 1;
    min-width: 0;
}
.sfs-hr-pwa-app .sfs-history-card-title small {
    font-weight: 400;
    color: var(--sfs-text-muted);
}
.sfs-hr-pwa-app .sfs-history-card-body {
    padding: 0 14px 14px;
    border-top: 1px solid var(--sfs-border);
}
.sfs-hr-pwa-app .sfs-detail-row {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    padding: 8px 0;
    border-bottom: 1px solid var(--sfs-border);
    font-size: 13px;
}
.sfs-hr-pwa-app .sfs-detail-row:last-child {
    border-bottom: none;
}
.sfs-hr-pwa-app .sfs-detail-label {
    color: var(--sfs-text-muted);
    flex-shrink: 0;
    margin-right: 12px;
}
.sfs-hr-pwa-app .sfs-detail-value {
    color: var(--sfs-text);
    font-weight: 500;
    text-align: right;
}

/* Desktop table visibility helpers */
.sfs-hr-pwa-app .sfs-desktop-only { display: block; }
.sfs-hr-pwa-app .sfs-mobile-only { display: none; }
@media (max-width: 768px) {
    .sfs-hr-pwa-app .sfs-desktop-only { display: none; }
    .sfs-hr-pwa-app .sfs-mobile-only { display: block; }
}

/* ── Tables (Desktop) ──────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
    border: 1px solid var(--sfs-border);
    border-radius: 10px;
    overflow: hidden;
}
.sfs-hr-pwa-app .sfs-table th {
    background: var(--sfs-background);
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    color: var(--sfs-text-muted);
    padding: 10px 14px;
    text-align: start;
    border-bottom: 1px solid var(--sfs-border);
}
.sfs-hr-pwa-app .sfs-table td {
    padding: 10px 14px;
    color: var(--sfs-text);
    border-bottom: 1px solid var(--sfs-border);
    vertical-align: top;
}
.sfs-hr-pwa-app .sfs-table tbody tr:last-child td {
    border-bottom: none;
}
.sfs-hr-pwa-app .sfs-table tbody tr:hover {
    background: var(--sfs-background);
}

/* ── Leave Balance Cards (§10.2) ───────────────────────────── */
.sfs-hr-pwa-app .sfs-balance-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 14px;
    margin-bottom: 24px;
}
.sfs-hr-pwa-app .sfs-balance-card {
    --card-color: #6366f1;
    background: var(--sfs-surface);
    border: 1px solid var(--sfs-border);
    border-radius: 14px;
    padding: 18px;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    text-decoration: none;
    display: block;
    color: inherit;
}
.sfs-hr-pwa-app .sfs-balance-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.08);
}
.sfs-hr-pwa-app .sfs-balance-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--card-color);
}
.sfs-hr-pwa-app .sfs-balance-card-head {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 14px;
}
.sfs-hr-pwa-app .sfs-balance-card-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--sfs-text);
    line-height: 1.3;
    flex: 1;
    padding-right: 10px;
}
/* Circular balance badge */
.sfs-hr-pwa-app .sfs-balance-ring {
    width: 52px;
    height: 52px;
    flex-shrink: 0;
    position: relative;
}
.sfs-hr-pwa-app .sfs-balance-ring svg {
    width: 52px;
    height: 52px;
    transform: rotate(-90deg);
}
.sfs-hr-pwa-app .sfs-balance-ring-bg {
    fill: none;
    stroke: var(--sfs-border);
    stroke-width: 4;
}
.sfs-hr-pwa-app .sfs-balance-ring-fill {
    fill: none;
    stroke: var(--card-color);
    stroke-width: 4;
    stroke-linecap: round;
    transition: stroke-dashoffset 0.6s ease;
}
.sfs-hr-pwa-app .sfs-balance-ring-value {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    font-weight: 700;
    color: var(--card-color);
}
/* Three metrics row */
.sfs-hr-pwa-app .sfs-balance-metrics {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    text-align: center;
}
.sfs-hr-pwa-app .sfs-balance-metric-val {
    font-size: 16px;
    font-weight: 700;
    color: var(--sfs-text);
    line-height: 1.2;
}
.sfs-hr-pwa-app .sfs-balance-metric-label {
    font-size: 10px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    color: var(--sfs-text-muted);
    margin-top: 2px;
}
/* Mini progress bar fallback */
.sfs-hr-pwa-app .sfs-balance-bar {
    height: 4px;
    background: var(--sfs-border);
    border-radius: 2px;
    margin-top: 12px;
    overflow: hidden;
}
.sfs-hr-pwa-app .sfs-balance-bar-fill {
    height: 100%;
    background: var(--card-color);
    border-radius: 2px;
    transition: width 0.6s ease;
}

/* Balance card color palette */
.sfs-hr-pwa-app .sfs-balance-card[data-color="sky"]    { --card-color: #0ea5e9; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="rose"]   { --card-color: #f43f5e; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="violet"] { --card-color: #8b5cf6; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="amber"]  { --card-color: #f59e0b; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="emerald"]{ --card-color: #10b981; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="indigo"] { --card-color: #6366f1; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="pink"]   { --card-color: #ec4899; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="orange"] { --card-color: #f97316; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="teal"]   { --card-color: #14b8a6; }
.sfs-hr-pwa-app .sfs-balance-card[data-color="slate"]  { --card-color: #64748b; }

/* ── Mobile Bottom Nav Enhancements ────────────────────────── */
@media (max-width: 768px) {
    .sfs-hr-pwa-app .sfs-hr-tab {
        position: relative;
    }
    .sfs-hr-pwa-app .sfs-hr-tab-active::after {
        content: '';
        position: absolute;
        top: -6px;
        left: 50%;
        transform: translateX(-50%);
        width: 20px;
        height: 3px;
        border-radius: 0 0 3px 3px;
        background: var(--sfs-primary);
    }
    .sfs-hr-pwa-app .sfs-hr-tab-active {
        font-weight: 600;
    }
}

/* ══════════════════════════════════════════════════════════════
   Phase 3/4 — Team / Org Tabs + §10.3 Dashboard Widgets
   ══════════════════════════════════════════════════════════════ */

/* ── Badge Variants ─────────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-badge--neutral {
    background: #f1f5f9;
    color: #64748b;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--neutral,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--neutral {
    background: #334155;
    color: #94a3b8;
}

/* ── Button Variants ────────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-btn--success {
    background: #059669;
    color: #fff;
    border: none;
}
.sfs-hr-pwa-app .sfs-btn--success:hover {
    background: #047857;
}
.sfs-hr-pwa-app .sfs-btn--danger {
    background: #dc2626;
    color: #fff;
    border: none;
}
.sfs-hr-pwa-app .sfs-btn--danger:hover {
    background: #b91c1c;
}
.sfs-hr-pwa-app .sfs-btn--sm {
    padding: 6px 14px;
    font-size: 13px;
    border-radius: 6px;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    cursor: pointer;
    font-weight: 600;
    line-height: 1.4;
}
.sfs-hr-pwa-app .sfs-btn--sm svg {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
}

/* ── Filter Chips ───────────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-dash-filter-chips {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-bottom: 16px;
}
.sfs-hr-pwa-app .sfs-chip {
    display: inline-flex;
    align-items: center;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 500;
    border: 1px solid var(--sfs-border);
    background: var(--sfs-surface);
    color: var(--sfs-text-muted);
    cursor: pointer;
    transition: all 0.15s ease;
}
.sfs-hr-pwa-app .sfs-chip:hover {
    border-color: var(--sfs-primary);
    color: var(--sfs-primary);
}
.sfs-hr-pwa-app .sfs-chip--active,
.sfs-hr-pwa-app .sfs-chip.sfs-chip--active {
    background: var(--sfs-primary);
    color: #fff;
    border-color: var(--sfs-primary);
}

/* ── KPI Grid 4-column ──────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-kpi-grid--4 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin-bottom: 16px;
}
@media (max-width: 900px) {
    .sfs-hr-pwa-app .sfs-kpi-grid--4 {
        grid-template-columns: repeat(2, 1fr);
    }
}
@media (max-width: 480px) {
    .sfs-hr-pwa-app .sfs-kpi-grid--4 {
        grid-template-columns: 1fr 1fr;
        gap: 8px;
    }
}

/* ── §10.3 Dashboard Widget Titles ──────────────────────────── */
.sfs-hr-pwa-app .sfs-dash-widget-title {
    font-size: 15px;
    font-weight: 700;
    color: var(--sfs-text);
    margin: 0 0 14px;
}

/* ── §10.3 Attendance Gauge ─────────────────────────────────── */
.sfs-hr-pwa-app .sfs-dash-gauge-card {
    margin-bottom: 16px;
}
.sfs-hr-pwa-app .sfs-dash-gauge-wrap {
    position: relative;
    width: 220px;
    margin: 0 auto 12px;
}
.sfs-hr-pwa-app .sfs-dash-gauge {
    width: 100%;
    display: block;
}
.sfs-hr-pwa-app .sfs-dash-gauge-bg {
    fill: none;
    stroke: #e5e7eb;
    stroke-width: 14;
    stroke-linecap: round;
}
.sfs-hr-pwa-app .sfs-dash-gauge-fill {
    fill: none;
    stroke-width: 14;
    stroke-linecap: round;
    transition: stroke-dasharray 0.6s ease;
}
.sfs-hr-pwa-app .sfs-dash-gauge-fill--ontime {
    stroke: #059669;
}
.sfs-hr-pwa-app .sfs-dash-gauge-fill--late {
    stroke: #d97706;
}
.sfs-hr-pwa-app .sfs-dash-gauge-center {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
}
.sfs-hr-pwa-app .sfs-dash-gauge-pct {
    font-size: 32px;
    font-weight: 800;
    color: var(--sfs-text);
    line-height: 1;
}
.sfs-hr-pwa-app .sfs-dash-gauge-sub {
    font-size: 12px;
    color: var(--sfs-text-muted);
    margin-top: 2px;
}
.sfs-hr-pwa-app .sfs-dash-gauge-legend {
    display: flex;
    justify-content: center;
    gap: 20px;
}
.sfs-hr-pwa-app .sfs-dash-legend-item {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: var(--sfs-text-muted);
}
.sfs-hr-pwa-app .sfs-dash-legend-dot {
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
}

/* ── §10.3 Clock-In Method Breakdown ────────────────────────── */
.sfs-hr-pwa-app .sfs-dash-methods-card {
    margin-bottom: 16px;
}
.sfs-hr-pwa-app .sfs-dash-methods-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
}
@media (max-width: 600px) {
    .sfs-hr-pwa-app .sfs-dash-methods-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
.sfs-hr-pwa-app .sfs-dash-method-item {
    text-align: center;
    padding: 16px 8px;
    border-radius: 12px;
    background: var(--sfs-background);
    border: 1px solid var(--sfs-border);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}
.sfs-hr-pwa-app .sfs-dash-method-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}
.sfs-hr-pwa-app .sfs-dash-method-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: 12px;
    margin-bottom: 8px;
}
.sfs-hr-pwa-app .sfs-dash-method-icon svg {
    width: 24px;
    height: 24px;
}
.sfs-hr-pwa-app .sfs-dash-method-count {
    font-size: 24px;
    font-weight: 800;
    color: var(--sfs-text);
    line-height: 1.2;
}
.sfs-hr-pwa-app .sfs-dash-method-label {
    font-size: 12px;
    color: var(--sfs-text-muted);
    margin-top: 2px;
}

/* ── Department Breakdown ───────────────────────────────────── */
.sfs-hr-pwa-app .sfs-dash-dept-card {
    margin-bottom: 16px;
}
.sfs-hr-pwa-app .sfs-dash-dept-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.sfs-hr-pwa-app .sfs-dash-dept-row {
    display: grid;
    grid-template-columns: 140px 1fr 44px 60px;
    gap: 10px;
    align-items: center;
    font-size: 13px;
}
@media (max-width: 600px) {
    .sfs-hr-pwa-app .sfs-dash-dept-row {
        grid-template-columns: 100px 1fr 36px 48px;
        gap: 6px;
        font-size: 12px;
    }
}
.sfs-hr-pwa-app .sfs-dash-dept-name {
    font-weight: 600;
    color: var(--sfs-text);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.sfs-hr-pwa-app .sfs-dash-dept-bar-wrap {
    height: 8px;
    background: #e5e7eb;
    border-radius: 4px;
    overflow: hidden;
}
.sfs-hr-pwa-app .sfs-dash-dept-bar {
    height: 100%;
    border-radius: 4px;
    transition: width 0.4s ease;
}
.sfs-hr-pwa-app .sfs-dash-dept-pct {
    text-align: right;
    font-weight: 700;
    color: var(--sfs-text);
}
.sfs-hr-pwa-app .sfs-dash-dept-count {
    text-align: right;
    color: var(--sfs-text-muted);
    font-size: 12px;
}

/* ── §10.3 Calendar Heatmap ─────────────────────────────────── */
.sfs-hr-pwa-app .sfs-dash-heatmap-card {
    margin-bottom: 16px;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-legend {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    margin-bottom: 12px;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 4px;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-header {
    text-align: center;
    font-size: 11px;
    font-weight: 600;
    color: var(--sfs-text-muted);
    padding: 4px 0;
    text-transform: uppercase;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
    color: var(--sfs-text);
    cursor: default;
    transition: transform 0.1s ease;
    max-width: 48px;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell:hover:not(.sfs-dash-heatmap-cell--empty) {
    transform: scale(1.12);
    z-index: 1;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell--empty {
    background: transparent;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell--high {
    background: #bbf7d0;
    color: #166534;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell--medium {
    background: #fef08a;
    color: #854d0e;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell--low {
    background: #fecaca;
    color: #991b1b;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell--none {
    background: #f1f5f9;
    color: #94a3b8;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell--future {
    background: #f8fafc;
    color: #cbd5e1;
}
.sfs-hr-pwa-app .sfs-dash-heatmap-cell--today {
    outline: 2px solid var(--sfs-primary);
    outline-offset: -1px;
    font-weight: 700;
}

/* ── Today's Employee Status List ───────────────────────────── */
.sfs-hr-pwa-app .sfs-dash-list-card {
    margin-bottom: 16px;
}
.sfs-hr-pwa-app .sfs-dash-emp-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.sfs-hr-pwa-app .sfs-dash-emp-item {
    padding: 12px 16px;
    background: var(--sfs-surface);
    border: 1px solid var(--sfs-border);
    border-radius: 10px;
}
.sfs-hr-pwa-app .sfs-dash-emp-item-head {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 8px;
}
.sfs-hr-pwa-app .sfs-dash-emp-item-meta {
    display: flex;
    gap: 16px;
    margin-top: 8px;
    font-size: 12px;
    color: var(--sfs-text-muted);
}

/* ── Approval Cards ─────────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-approval-card {
    margin-bottom: 12px;
}
.sfs-hr-pwa-app .sfs-approval-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 12px;
    margin-bottom: 12px;
}
.sfs-hr-pwa-app .sfs-approval-details {
    margin-bottom: 14px;
    padding: 12px;
    background: var(--sfs-background);
    border-radius: 8px;
}
.sfs-hr-pwa-app .sfs-approval-details .sfs-detail-row {
    padding: 4px 0;
}
.sfs-hr-pwa-app .sfs-approval-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    padding-top: 12px;
    border-top: 1px solid var(--sfs-border);
}

/* ── Team Member Cards (mobile) ─────────────────────────────── */
.sfs-hr-pwa-app .sfs-team-member-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.sfs-hr-pwa-app .sfs-team-member-card {
    margin-bottom: 0;
}

/* ── Dark Mode Overrides for Phase 3/4 ──────────────────────── */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-heatmap-cell--high,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-heatmap-cell--high {
    background: #166534;
    color: #bbf7d0;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-heatmap-cell--medium,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-heatmap-cell--medium {
    background: #854d0e;
    color: #fef08a;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-heatmap-cell--low,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-heatmap-cell--low {
    background: #991b1b;
    color: #fecaca;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-heatmap-cell--none,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-heatmap-cell--none {
    background: #1e293b;
    color: #64748b;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-heatmap-cell--future,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-heatmap-cell--future {
    background: #0f172a;
    color: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-method-item,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-method-item {
    background: #1e293b;
    border-color: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-dept-bar-wrap,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-dept-bar-wrap {
    background: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-gauge-bg,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-gauge-bg {
    stroke: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-chip,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-chip {
    background: #1e293b;
    border-color: #334155;
    color: #94a3b8;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-chip--active,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-chip--active {
    background: var(--sfs-primary);
    color: #fff;
    border-color: var(--sfs-primary);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-approval-details,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-approval-details {
    background: #0f172a;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-dash-emp-item,
.sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-dash-emp-item {
    background: #1e293b;
    border-color: #334155;
}

/* ═══════════════════════════════════════════════════════════════
   Overview Dashboard Tab
   ═══════════════════════════════════════════════════════════════ */

.sfs-overview {
    padding: 4px 0;
}

/* ── Greeting ────────────────────────────────────────────────── */
.sfs-overview-greeting {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 20px;
    padding: 0 2px;
}
.sfs-overview-greeting-avatar {
    flex-shrink: 0;
}
.sfs-overview-avatar-img {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    object-fit: cover;
    display: block;
}
.sfs-overview-avatar-placeholder {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--sfs-primary, #0f4c5c);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    font-weight: 700;
    letter-spacing: 0.03em;
}
.sfs-overview-greeting-text {
    min-width: 0;
}
.sfs-overview-greeting-label {
    display: block;
    font-size: 13px;
    color: var(--sfs-text-muted, #6b7280);
    font-weight: 400;
    line-height: 1.3;
}
.sfs-overview-greeting-name {
    margin: 2px 0 0;
    font-size: 20px;
    font-weight: 700;
    color: var(--sfs-text, #111827);
    line-height: 1.25;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ── Quick Attendance Action ─────────────────────────────────── */
.sfs-overview-attendance-action {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    background: var(--sfs-surface, #ffffff);
    border: 1px solid var(--sfs-border, #e5e7eb);
    border-radius: 14px;
    padding: 14px 16px;
    margin-bottom: 20px;
}
.sfs-overview-action-content {
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 0;
}
.sfs-overview-action-icon {
    flex-shrink: 0;
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: #eff6ff;
    display: flex;
    align-items: center;
    justify-content: center;
}
.sfs-overview-action-icon svg {
    width: 20px;
    height: 20px;
    stroke: #3b82f6;
}
.sfs-overview-action-text {
    display: flex;
    flex-direction: column;
    min-width: 0;
}
.sfs-overview-action-label {
    font-size: 14px;
    font-weight: 600;
    color: var(--sfs-text, #111827);
}
.sfs-overview-action-sub {
    font-size: 12px;
    color: var(--sfs-text-muted, #6b7280);
}
.sfs-overview-action-btn {
    display: inline-flex;
    align-items: center;
    padding: 8px 18px;
    border-radius: 999px;
    background: var(--sfs-primary, #0f4c5c);
    color: #ffffff !important;
    font-size: 13px;
    font-weight: 600;
    text-decoration: none;
    white-space: nowrap;
    transition: background .15s ease, box-shadow .15s ease, transform .05s ease;
}
.sfs-overview-action-btn:hover,
.sfs-overview-action-btn:focus {
    background: var(--sfs-primary-light, #135e96);
    box-shadow: 0 4px 12px rgba(15, 76, 92, 0.25);
    color: #ffffff !important;
    text-decoration: none;
    transform: translateY(-1px);
}
.sfs-overview-action-btn:active {
    transform: translateY(0);
    box-shadow: none;
}

/* ── Section Headers ─────────────────────────────────────────── */
.sfs-overview-section {
    margin-bottom: 12px;
    padding: 0 2px;
}
.sfs-overview-section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
}
.sfs-overview-section-title {
    font-size: 15px;
    font-weight: 700;
    color: var(--sfs-text, #111827);
    margin: 0;
}
.sfs-overview-section-sub {
    font-size: 12px;
    color: var(--sfs-text-muted, #6b7280);
    font-weight: 400;
}
.sfs-overview-view-all {
    font-size: 13px;
    font-weight: 500;
    color: var(--sfs-primary, #0f4c5c);
    text-decoration: none;
}
.sfs-overview-view-all:hover {
    text-decoration: underline;
}

/* ── Attendance This Month Grid ──────────────────────────────── */
.sfs-overview-att-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-bottom: 24px;
}
.sfs-overview-att-card {
    background: var(--sfs-surface, #ffffff);
    border: 1px solid var(--sfs-border, #e5e7eb);
    border-radius: 12px;
    padding: 14px 12px;
    text-align: center;
    border-top: 3px solid transparent;
}
.sfs-overview-att-card--present {
    border-top-color: #059669;
}
.sfs-overview-att-card--absent {
    border-top-color: #dc2626;
}
.sfs-overview-att-card--late {
    border-top-color: #d97706;
}
.sfs-overview-att-card-value {
    font-size: 24px;
    font-weight: 700;
    color: var(--sfs-text, #111827);
    line-height: 1.1;
    margin-bottom: 4px;
}
.sfs-overview-att-card-label {
    font-size: 12px;
    font-weight: 500;
    color: var(--sfs-text-muted, #6b7280);
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

/* ── Recent Activity List ────────────────────────────────────── */
.sfs-overview-activity-list {
    display: flex;
    flex-direction: column;
    gap: 2px;
    background: var(--sfs-surface, #ffffff);
    border: 1px solid var(--sfs-border, #e5e7eb);
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 20px;
}
.sfs-overview-activity-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 14px;
    text-decoration: none;
    color: inherit;
    border-bottom: 1px solid var(--sfs-border, #e5e7eb);
    transition: background .12s ease;
}
.sfs-overview-activity-item:last-child {
    border-bottom: none;
}
.sfs-overview-activity-item:hover {
    background: rgba(0, 0, 0, 0.02);
}
.sfs-overview-activity-icon {
    flex-shrink: 0;
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.sfs-overview-activity-icon svg {
    width: 18px;
    height: 18px;
}
.sfs-overview-activity-icon--leave {
    background: #eff6ff;
}
.sfs-overview-activity-icon--leave svg {
    stroke: #3b82f6;
}
.sfs-overview-activity-icon--loan {
    background: #fef3c7;
}
.sfs-overview-activity-icon--loan svg {
    stroke: #d97706;
}
.sfs-overview-activity-info {
    flex: 1;
    min-width: 0;
}
.sfs-overview-activity-title {
    font-size: 13px;
    font-weight: 600;
    color: var(--sfs-text, #111827);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.sfs-overview-activity-ref {
    font-weight: 400;
    color: var(--sfs-text-muted, #6b7280);
    font-size: 12px;
}
.sfs-overview-activity-meta {
    font-size: 12px;
    color: var(--sfs-text-muted, #6b7280);
    margin-top: 1px;
}

/* ── Status Badges ───────────────────────────────────────────── */
.sfs-badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 600;
    white-space: nowrap;
    line-height: 1.3;
    flex-shrink: 0;
}
.sfs-badge--success {
    background: #ecfdf5;
    color: #059669;
}
.sfs-badge--warning {
    background: #fffbeb;
    color: #d97706;
}
.sfs-badge--danger {
    background: #fef2f2;
    color: #dc2626;
}
.sfs-badge--info {
    background: #eff6ff;
    color: #2563eb;
}
.sfs-badge--muted {
    background: #f3f4f6;
    color: #6b7280;
}

/* ── Profile Completion Banner ───────────────────────────────── */
.sfs-overview-profile-banner {
    display: flex;
    align-items: center;
    gap: 14px;
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border: 1px solid #bae6fd;
    border-radius: 12px;
    padding: 14px 16px;
    text-decoration: none;
    color: inherit;
    transition: box-shadow .15s ease;
    margin-bottom: 8px;
}
.sfs-overview-profile-banner:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    text-decoration: none;
    color: inherit;
}
.sfs-overview-profile-banner-text {
    flex: 1;
    min-width: 0;
}
.sfs-overview-profile-banner-title {
    display: block;
    font-size: 13px;
    font-weight: 600;
    color: #0369a1;
}
.sfs-overview-profile-banner-sub {
    display: block;
    font-size: 12px;
    color: #0284c7;
    margin-top: 2px;
}
.sfs-overview-profile-banner-bar {
    flex: 0 0 100px;
    height: 6px;
    background: #bae6fd;
    border-radius: 3px;
    overflow: hidden;
}
.sfs-overview-profile-banner-fill {
    height: 100%;
    background: linear-gradient(90deg, #0ea5e9 0%, #0284c7 100%);
    border-radius: 3px;
    transition: width .5s ease;
}
.sfs-overview-profile-banner-arrow {
    flex-shrink: 0;
    width: 18px;
    height: 18px;
    color: #0284c7;
}

/* ── Mobile Responsive ───────────────────────────────────────── */
@media (max-width: 640px) {
    .sfs-overview-greeting-name {
        font-size: 18px;
    }
    .sfs-overview-att-grid {
        gap: 8px;
    }
    .sfs-overview-att-card {
        padding: 10px 8px;
    }
    .sfs-overview-att-card-value {
        font-size: 20px;
    }
    .sfs-overview-attendance-action {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
        text-align: center;
    }
    .sfs-overview-action-content {
        justify-content: center;
    }
    .sfs-overview-action-btn {
        justify-content: center;
        padding: 10px 18px;
    }
    .sfs-overview-profile-banner {
        flex-wrap: wrap;
    }
    .sfs-overview-profile-banner-bar {
        flex: 0 0 100%;
        order: 3;
        margin-top: 4px;
    }
}

/* ── Dark Mode — Overview ────────────────────────────────────── */
@media (prefers-color-scheme: dark) {
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-att-card,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-attendance-action,
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-activity-list {
        background: var(--sfs-surface, #1e293b);
        border-color: #334155;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-activity-item {
        border-color: #334155;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-activity-item:hover {
        background: rgba(255, 255, 255, 0.03);
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-avatar-placeholder {
        background: var(--sfs-primary, #0f4c5c);
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-action-icon {
        background: #1e293b;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-activity-icon--leave {
        background: #1e293b;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-activity-icon--loan {
        background: #1e293b;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-profile-banner {
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        border-color: #334155;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-profile-banner-title {
        color: #7dd3fc;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-profile-banner-sub {
        color: #38bdf8;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-overview-profile-banner-bar {
        background: #334155;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--success {
        background: #064e3b;
        color: #6ee7b7;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--warning {
        background: #451a03;
        color: #fcd34d;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--danger {
        background: #450a0a;
        color: #fca5a5;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--info {
        background: #1e3a5f;
        color: #93c5fd;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-badge--muted {
        background: #1e293b;
        color: #94a3b8;
    }
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-att-card,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-attendance-action,
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-activity-list {
    background: var(--sfs-surface, #1e293b);
    border-color: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-activity-item {
    border-color: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-activity-item:hover {
    background: rgba(255, 255, 255, 0.03);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-avatar-placeholder {
    background: var(--sfs-primary, #0f4c5c);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-action-icon {
    background: #1e293b;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-activity-icon--leave {
    background: #1e293b;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-activity-icon--loan {
    background: #1e293b;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-profile-banner {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    border-color: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-profile-banner-title {
    color: #7dd3fc;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-profile-banner-sub {
    color: #38bdf8;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-overview-profile-banner-bar {
    background: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--success {
    background: #064e3b;
    color: #6ee7b7;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--warning {
    background: #451a03;
    color: #fcd34d;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--danger {
    background: #450a0a;
    color: #fca5a5;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--info {
    background: #1e3a5f;
    color: #93c5fd;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-badge--muted {
    background: #1e293b;
    color: #94a3b8;
}

/* ── Form Modal Overlay ────────────────────────────────────── */
.sfs-hr-pwa-app .sfs-form-modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 10000;
    align-items: center;
    justify-content: center;
}
.sfs-hr-pwa-app .sfs-form-modal-overlay.sfs-modal-active {
    display: flex;
}
.sfs-hr-pwa-app .sfs-form-modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}
.sfs-hr-pwa-app .sfs-form-modal {
    position: relative;
    background: var(--sfs-surface);
    border-radius: 16px;
    width: 92%;
    max-width: 500px;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25);
    z-index: 1;
    animation: sfsModalIn 0.2s ease;
}
@keyframes sfsModalIn {
    from { opacity: 0; transform: translateY(20px) scale(0.97); }
    to   { opacity: 1; transform: translateY(0) scale(1); }
}
.sfs-hr-pwa-app .sfs-form-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid var(--sfs-border);
    position: sticky;
    top: 0;
    background: var(--sfs-surface);
    border-radius: 16px 16px 0 0;
    z-index: 1;
}
.sfs-hr-pwa-app .sfs-form-modal-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--sfs-text);
    margin: 0;
}
.sfs-hr-pwa-app .sfs-form-modal-close {
    background: none;
    border: none;
    font-size: 22px;
    color: var(--sfs-text-muted);
    cursor: pointer;
    padding: 4px 8px;
    line-height: 1;
    border-radius: 8px;
    transition: background 0.15s;
}
.sfs-hr-pwa-app .sfs-form-modal-close:hover {
    background: var(--sfs-background);
}
.sfs-hr-pwa-app .sfs-form-modal-body {
    padding: 20px;
}

/* History card info wrapper (for meta line under title) */
.sfs-hr-pwa-app .sfs-history-card-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex: 1;
    min-width: 0;
}
.sfs-hr-pwa-app .sfs-history-card-meta {
    font-size: 12px;
    color: var(--sfs-text-muted);
    font-weight: 400;
}

/* Payment schedule cards inside loan history */
.sfs-hr-pwa-app .sfs-payment-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-top: 10px;
}
.sfs-hr-pwa-app .sfs-payment-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 10px;
    background: var(--sfs-background);
    border-radius: 8px;
    font-size: 12px;
    gap: 8px;
}
.sfs-hr-pwa-app .sfs-payment-item-seq {
    font-weight: 700;
    color: var(--sfs-text-muted);
    min-width: 24px;
}
.sfs-hr-pwa-app .sfs-payment-item-info {
    flex: 1;
    min-width: 0;
    color: var(--sfs-text);
}
.sfs-hr-pwa-app .sfs-payment-item-amount {
    font-weight: 600;
    color: var(--sfs-text);
    white-space: nowrap;
}

/* ── Modal Dark Mode ──────────────────────────────────────── */
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-form-modal {
    background: #1e293b;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-form-modal-header {
    background: #1e293b;
    border-color: #334155;
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-form-modal-backdrop {
    background: rgba(0, 0, 0, 0.7);
}
.sfs-hr-pwa-app.sfs-hr-dark-mode .sfs-payment-item {
    background: #0f172a;
}
@media (prefers-color-scheme: dark) {
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-form-modal {
        background: #1e293b;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-form-modal-header {
        background: #1e293b;
        border-color: #334155;
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-form-modal-backdrop {
        background: rgba(0, 0, 0, 0.7);
    }
    .sfs-hr-pwa-app:not(.sfs-hr-light-mode) .sfs-payment-item {
        background: #0f172a;
    }
}
